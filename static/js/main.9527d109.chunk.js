(this.webpackJsonpmatopeli=this.webpackJsonpmatopeli||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(4),o=n.n(s),i=(n(10),n(2)),u=(n(11),n(12),function(e){for(var t=e.points,n=e.setPoints,r=[],s=0;s<30;s++){r[s]=[];for(var o=0;o<30;o++)r[s][o]="blank"}var u=function(){return{x:Math.floor(30*Math.random()),y:Math.floor(30*Math.random())}},j=Object(a.useState)(r),d=Object(i.a)(j,2),l=d[0],b=d[1],f=Object(a.useState)([{x:0,y:0}]),p=Object(i.a)(f,2),O=p[0],h=p[1],v=Object(a.useState)("right"),x=Object(i.a)(v,2),m=x[0],y=x[1],k=Object(a.useState)(u),S=Object(i.a)(k,2),w=S[0],N=S[1],g=Object(a.useState)(),E=Object(i.a)(g,2),I=E[0],M=E[1],J=Object(a.useState)(!1),L=Object(i.a)(J,2),B=L[0],P=L[1];document.addEventListener("keydown",(function(e){switch(e.keyCode){case 37:y("left");break;case 38:y("top");break;case 39:y("right");break;case 40:y("bottom")}}));var A=l.map((function(e,t){return Object(c.jsx)("div",{className:"Snake-row",children:e.map((function(e,n){return Object(c.jsx)("div",{className:"tile ".concat(e)},"".concat(t,"-").concat(n))}))},t)}));return function(e,t,n){var c=Object(a.useRef)();Object(a.useEffect)((function(){c.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){c.current()}),t);return n(e),function(){return clearInterval(e)}}}),[t,n])}((function(){var e=[];switch(m){case"right":e.push({x:O[0].x,y:(O[0].y+1)%30});break;case"left":e.push({x:O[0].x,y:(O[0].y-1+30)%30});break;case"top":e.push({x:(O[0].x-1+30)%30,y:O[0].y});break;case"bottom":e.push({x:(O[0].x+1)%30,y:O[0].y})}if(function(){var e=O[0];return O.slice(1,-1).find((function(t){return t.x===e.x&&t.y===e.y}))}()){P(!0),clearInterval(I);var c=JSON.parse(localStorage.getItem("snake-points"))||[];c.push(t),localStorage.setItem("snake-points",JSON.stringify(c)),window.dispatchEvent(new Event("storage"))}O.forEach((function(t){e.push(t)}));var a=O[0];a.x===w.x&&a.y===w.y?(N(u),n(t+1)):e.pop(),h(e),function(){var e=r;O.forEach((function(t){e[t.x][t.y]="snake"})),e[w.x][w.y]="food",b(e)}()}),150,M),Object(c.jsxs)("div",{className:"Snake-board",children:[A,B&&Object(c.jsx)("div",{className:"Game-over",children:"Game over!"})]})}),j=(n(13),function(e){var t=e.points;return Object(c.jsxs)("div",{className:"Points",children:[t," pistett\xe4"]})}),d=(n(14),function(){return JSON.parse(localStorage.getItem("snake-points"))||[]}),l=function(){var e=Object(a.useState)(d()),t=Object(i.a)(e,2),n=t[0],r=t[1];return window.addEventListener("storage",(function(){r(d())})),Object(c.jsxs)("div",{className:"LeaderBoard",children:[Object(c.jsx)("div",{className:"LeaderBoard-header",children:"Top 5"}),Object(c.jsx)("div",{className:"LeaderBoard-points",children:n.sort((function(e,t){return t-e})).slice(0,5).map((function(e,t){return Object(c.jsxs)("div",{children:[e," pistett\xe4"]},"".concat(e,"-").concat(t))}))})]})},b=function(){var e=Object(a.useState)(0),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{className:"App-header",children:"Matopeli"}),Object(c.jsx)(j,{points:n}),Object(c.jsx)(u,{points:n,setPoints:r}),Object(c.jsx)("button",{onClick:function(){return window.location.reload()},children:"Uusi peli"}),Object(c.jsx)(l,{})]})};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(b,{})}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.9527d109.chunk.js.map